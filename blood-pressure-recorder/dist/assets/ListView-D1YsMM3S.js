import{a as b,d as _,r as x,b as i,o as m,c as u,w as r,e as t,f as B,g as w,E as C,h as l,i as p}from"./index-BZgGR7zF.js";function k(s,a){return b.delete(`/records/${s.id}`,a)}const v=_({__name:"BloodPressureList",setup(s){const a=x([]);function c(){w({count:0},p).then(o=>{o.data.forEach(e=>{e.timestamp=e.time,e.time=new Date(e.time).toLocaleString()}),o.data.reverse(),a.value=o.data})}c();const d=n=>{C.confirm("确定删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(n);let o={id:n.timestamp};k(o,p).then(e=>{console.log(e),e.status===200?(c(),l.success("删除成功")):l.error("删除失败")}).catch(e=>{console.log(e),l.error("删除失败")})}).catch(()=>{l.info("已取消删除")})};return(n,o)=>{const e=i("el-table-column"),f=i("el-button"),g=i("el-table");return m(),u(g,{data:a.value},{default:r(()=>[t(e,{prop:"high",label:"上压"}),t(e,{prop:"low",label:"下压"}),t(e,{prop:"heartRate",label:"心率"}),t(e,{prop:"time",label:"Time"}),t(e,{prop:"remark",label:"备注"}),t(e,{prop:"location",label:"位置"}),t(e,{fixed:"right",label:"Operations",width:"120"},{default:r(({row:h})=>[t(f,{type:"danger",size:"mini",onClick:L=>d(h)},{default:r(()=>[B(" Delete ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}}),E=_({__name:"ListView",setup(s){return(a,c)=>(m(),u(v))}});export{E as default};
